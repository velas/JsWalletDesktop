// Generated by LiveScript 1.6.0
(function(){
  var getTopupAddress;
  getTopupAddress = require('./topup-loader.js').getTopupAddress;
  module.exports = function(store){
    return function(e){
      var send, ref$, token, network, address;
      store.current.sendMenuOpen = false;
      send = store.current.send;
      token = ((ref$ = send != null ? send.coin : void 8) != null
        ? ref$
        : {}).token;
      network = store.current.network;
      address = ((ref$ = send != null ? send.wallet : void 8) != null
        ? ref$
        : {}).address;
      return getTopupAddress(store, {
        token: token,
        network: network,
        address: address
      }, function(err, address){
        if (err != null) {
          return alert(err + "");
        }
        if (address != null) {
          return window.open(address);
        } else if (wallet.network.topup) {
          return window.open(wallet.network.topup);
        } else {
          return alert("Topup Service is not installed");
        }
      });
    };
  };
}).call(this);
