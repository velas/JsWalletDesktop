// Generated by LiveScript 1.6.0
(function(){
  var addSpaces;
  addSpaces = function(x){
    var pattern;
    x = x.toString();
    pattern = /(-?\d+)(\d{3})/;
    while (pattern.test(x)) {
      x = x.replace(pattern, "$1,$2");
    }
    return x;
  };
  module.exports = function(value, config){
    var ref$, head, dec, firstHead, decimals, res;
    config == null && (config = null);
    if (value == null) {
      return '..';
    }
    if (value === '..') {
      return '..';
    }
    ref$ = value.toString().split('.'), head = ref$[0], dec = ref$[1];
    firstHead = addSpaces(head);
    if ((dec != null ? dec : "").length === 0) {
      return firstHead + "";
    }
    decimals = (ref$ = config != null ? config.decimals : void 8) != null ? ref$ : 4;
    res = firstHead + "." + dec.substr(0, decimals);
    return res;
  };
}).call(this);
