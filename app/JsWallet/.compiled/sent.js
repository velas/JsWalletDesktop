// Generated by LiveScript 1.6.0
(function(){
  var react, navigate, history, getPrimaryInfo, getLang, icons, filter, confirm, button, moment, successIcon;
  react = require('react');
  navigate = require('../navigate.ls');
  history = require('./history.ls');
  getPrimaryInfo = require('../get-primary-info.ls');
  getLang = require('../get-lang.ls');
  icons = require('../icons.ls');
  filter = require('prelude-ls').filter;
  confirm = require('./confirmation.ls').confirm;
  button = require('../components/button.ls');
  moment = require('moment');
  successIcon = function(store){
    var style, iconStyle, children;
    style = getPrimaryInfo(store);
    iconStyle = {
      fill: style.app.icon
    };
    return react.createElement('svg', {
      version: '1.1',
      xmlns: 'http://www.w3.org/2000/svg',
      x: '0px',
      y: '0px',
      viewBox: '0 0 52 52',
      style: iconStyle
    }, children = [
      react.createElement('g', {}, children = [
        react.createElement('path', {
          d: 'M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z'
        }), react.createElement('path', {
          d: 'M38.252,15.336l-15.369,17.29l-9.259-7.407c-0.43-0.345-1.061-0.274-1.405,0.156c-0.345,0.432-0.275,1.061,0.156,1.406l10,8C22.559,34.928,22.78,35,23,35c0.276,0,0.551-0.114,0.748-0.336l16-18c0.367-0.412,0.33-1.045-0.083-1.411C39.251,14.885,38.62,14.922,38.252,15.336z'
        })
      ]), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {}), react.createElement('g', {})
    ]);
  };
  module.exports = function(arg$){
    var store, web3t, style, textStyle, buttonPrimary3Style, linkStyle, sentIcon, btnIcon, hasPending, now, noRecent, inacurate, goHome, lang, children;
    store = arg$.store, web3t = arg$.web3t;
    style = getPrimaryInfo(store);
    textStyle = {
      color: style.app.text
    };
    buttonPrimary3Style = {
      border: "1px solid " + style.app.border,
      color: style.app.text2,
      background: style.app.primary3,
      backgroundColor: style.app.primary3Spare
    };
    linkStyle = {
      color: style.app.text2
    };
    sentIcon = {
      filter: style.app.nothingIcon
    };
    btnIcon = {
      filter: style.app.btnIcon
    };
    hasPending = function(it){
      return it.length > 0;
    }(
    filter(function(it){
      return it.pending;
    })(
    store.transactions.applied));
    now = moment().unix();
    noRecent = function(it){
      return it.length === 0;
    }(
    filter(function(it){
      return it.time - now < 10000;
    })(
    store.transactions.applied));
    inacurate = function(cb){
      if (hasPending === false) {
        return cb(null);
      }
      return confirm(store, lang.pendingTransactions, function(agree){
        if (!agree) {
          return cb("disagree");
        }
        return cb(null);
      });
    };
    goHome = function(){
      return inacurate(function(err){
        if (err != null) {
          return err;
        }
        return navigate(store, web3t, 'wallets');
      });
    };
    lang = getLang(store);
    return react.createElement('div', {
      className: 'sent sent1095625602'
    }, children = [
      react.createElement('div', {
        className: 'animation'
      }, children = noRecent
        ? react.createElement('img', {
          style: sentIcon,
          src: icons.sentCheck + "",
          className: 'icon-sent'
        })
        : hasPending
          ? react.createElement('img', {
            style: sentIcon,
            src: icons.sentPlane + "",
            className: 'icon-sent'
          })
          : react.createElement('img', {
            src: icons.sentCheck + "",
            className: 'icon-sent'
          })), react.createElement('div', {
        style: textStyle,
        className: 'text'
      }, children = [
        react.createElement('a', {
          style: linkStyle,
          href: store.current.lastTxUrl + "",
          target: "_blank"
        }, ' ' + lang.transaction), noRecent
          ? react.createElement('span', {}, '  ' + lang.hasBeenSent)
          : hasPending
            ? react.createElement('span', {}, '  ' + lang.inProgress + '..')
            : react.createElement('span', {}, '  ' + lang.hasBeenSent)
      ]), button({
        store: store,
        onClick: goHome,
        type: 'secondary',
        text: 'home',
        id: typeof id != 'undefined' && id !== null ? id : "sent-home"
      }), react.createElement('div', {
        className: 'limited-history'
      }, children = history({
        store: store,
        web3t: web3t
      }))
    ]);
  };
}).call(this);
